<!DOCTYPE html>
<html lang="en-us">

<head><title>
    NLog Database Target | 
    
    My New Hugo Site</title>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<meta name="description" content="NLog要把Log存到資料庫的話，可以透過Database這個taget
&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34; ?&gt; &lt;nlog xmlns=&#34;http://www.nlog-project.org/schemas/NLog.xsd&#34; xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34; autoReload=&#34;true&#34;&gt; &lt;targets&gt; &lt;target xsi:type=&#34;Database&#34; name=&#34;db&#34; connectionString=&#34;data source=(localdb)\v11.0;database=LogDB; trusted_connection=true;&#34; commandText=&#34;INSERT INTO NLog_Error(ThreadId, MachineName, LogName, LogLevel, LogMessage, CallSite, Exception, Stacktrace) VALUES (@ThreadId, @MachineName, @LogName, @LogLevel, @LogMessage, @CallSite, @Exception, @Stacktrace);&#34;&gt; &lt;parameter name=&#34;@ThreadId&#34; layout=&#34;${threadid}&#34;/&gt; &lt;parameter name=&#34;@MachineName&#34; layout=&#34;${machinename}&#34;/&gt; &lt;parameter name=&#34;@LogName&#34; layout=&#34;${logger}&#34;/&gt; &lt;parameter name=&#34;@LogLevel&#34; layout=&#34;${level}&#34;/&gt; &lt;parameter name=&#34;@LogMessage&#34; layout=&#34;${message}&#34;/&gt; &lt;parameter name=&#34;@CallSite&#34; layout=&#34;${callsite:filename=true}&#34;/&gt; &lt;parameter name=&#34;@Exception&#34; layout=&#34;${exception}&#34;/&gt; &lt;parameter name=&#34;@stacktrace&#34; layout=&#34;${stacktrace}&#34;/&gt; &lt;/target&gt; &lt;/targets&gt; &lt;rules&gt; &lt;logger name=&#34;*&#34; minlevel=&#34;Trace&#34; writeTo=&#34;db&#34; /&gt; &lt;/rules&gt; &lt;/nlog&gt; 資料庫的Table Schema
    ">


<meta property="og:title" content="NLog Database Target" />
<meta property="og:description" content="NLog要把Log存到資料庫的話，可以透過Database這個taget
&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34; ?&gt; &lt;nlog xmlns=&#34;http://www.nlog-project.org/schemas/NLog.xsd&#34; xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34; autoReload=&#34;true&#34;&gt; &lt;targets&gt; &lt;target xsi:type=&#34;Database&#34; name=&#34;db&#34; connectionString=&#34;data source=(localdb)\v11.0;database=LogDB; trusted_connection=true;&#34; commandText=&#34;INSERT INTO NLog_Error(ThreadId, MachineName, LogName, LogLevel, LogMessage, CallSite, Exception, Stacktrace) VALUES (@ThreadId, @MachineName, @LogName, @LogLevel, @LogMessage, @CallSite, @Exception, @Stacktrace);&#34;&gt; &lt;parameter name=&#34;@ThreadId&#34; layout=&#34;${threadid}&#34;/&gt; &lt;parameter name=&#34;@MachineName&#34; layout=&#34;${machinename}&#34;/&gt; &lt;parameter name=&#34;@LogName&#34; layout=&#34;${logger}&#34;/&gt; &lt;parameter name=&#34;@LogLevel&#34; layout=&#34;${level}&#34;/&gt; &lt;parameter name=&#34;@LogMessage&#34; layout=&#34;${message}&#34;/&gt; &lt;parameter name=&#34;@CallSite&#34; layout=&#34;${callsite:filename=true}&#34;/&gt; &lt;parameter name=&#34;@Exception&#34; layout=&#34;${exception}&#34;/&gt; &lt;parameter name=&#34;@stacktrace&#34; layout=&#34;${stacktrace}&#34;/&gt; &lt;/target&gt; &lt;/targets&gt; &lt;rules&gt; &lt;logger name=&#34;*&#34; minlevel=&#34;Trace&#34; writeTo=&#34;db&#34; /&gt; &lt;/rules&gt; &lt;/nlog&gt; 資料庫的Table Schema" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://example.org/posts/2014/09/nlog-database-target/" />
<meta property="article:published_time" content="2014-09-18T13:36:00+00:00" />
<meta property="article:modified_time" content="2014-09-18T13:36:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="NLog Database Target"/>
<meta name="twitter:description" content="NLog要把Log存到資料庫的話，可以透過Database這個taget
&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34; ?&gt; &lt;nlog xmlns=&#34;http://www.nlog-project.org/schemas/NLog.xsd&#34; xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34; autoReload=&#34;true&#34;&gt; &lt;targets&gt; &lt;target xsi:type=&#34;Database&#34; name=&#34;db&#34; connectionString=&#34;data source=(localdb)\v11.0;database=LogDB; trusted_connection=true;&#34; commandText=&#34;INSERT INTO NLog_Error(ThreadId, MachineName, LogName, LogLevel, LogMessage, CallSite, Exception, Stacktrace) VALUES (@ThreadId, @MachineName, @LogName, @LogLevel, @LogMessage, @CallSite, @Exception, @Stacktrace);&#34;&gt; &lt;parameter name=&#34;@ThreadId&#34; layout=&#34;${threadid}&#34;/&gt; &lt;parameter name=&#34;@MachineName&#34; layout=&#34;${machinename}&#34;/&gt; &lt;parameter name=&#34;@LogName&#34; layout=&#34;${logger}&#34;/&gt; &lt;parameter name=&#34;@LogLevel&#34; layout=&#34;${level}&#34;/&gt; &lt;parameter name=&#34;@LogMessage&#34; layout=&#34;${message}&#34;/&gt; &lt;parameter name=&#34;@CallSite&#34; layout=&#34;${callsite:filename=true}&#34;/&gt; &lt;parameter name=&#34;@Exception&#34; layout=&#34;${exception}&#34;/&gt; &lt;parameter name=&#34;@stacktrace&#34; layout=&#34;${stacktrace}&#34;/&gt; &lt;/target&gt; &lt;/targets&gt; &lt;rules&gt; &lt;logger name=&#34;*&#34; minlevel=&#34;Trace&#34; writeTo=&#34;db&#34; /&gt; &lt;/rules&gt; &lt;/nlog&gt; 資料庫的Table Schema"/>

<meta itemprop="name" content="NLog Database Target">
<meta itemprop="description" content="NLog要把Log存到資料庫的話，可以透過Database這個taget
&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34; ?&gt; &lt;nlog xmlns=&#34;http://www.nlog-project.org/schemas/NLog.xsd&#34; xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34; autoReload=&#34;true&#34;&gt; &lt;targets&gt; &lt;target xsi:type=&#34;Database&#34; name=&#34;db&#34; connectionString=&#34;data source=(localdb)\v11.0;database=LogDB; trusted_connection=true;&#34; commandText=&#34;INSERT INTO NLog_Error(ThreadId, MachineName, LogName, LogLevel, LogMessage, CallSite, Exception, Stacktrace) VALUES (@ThreadId, @MachineName, @LogName, @LogLevel, @LogMessage, @CallSite, @Exception, @Stacktrace);&#34;&gt; &lt;parameter name=&#34;@ThreadId&#34; layout=&#34;${threadid}&#34;/&gt; &lt;parameter name=&#34;@MachineName&#34; layout=&#34;${machinename}&#34;/&gt; &lt;parameter name=&#34;@LogName&#34; layout=&#34;${logger}&#34;/&gt; &lt;parameter name=&#34;@LogLevel&#34; layout=&#34;${level}&#34;/&gt; &lt;parameter name=&#34;@LogMessage&#34; layout=&#34;${message}&#34;/&gt; &lt;parameter name=&#34;@CallSite&#34; layout=&#34;${callsite:filename=true}&#34;/&gt; &lt;parameter name=&#34;@Exception&#34; layout=&#34;${exception}&#34;/&gt; &lt;parameter name=&#34;@stacktrace&#34; layout=&#34;${stacktrace}&#34;/&gt; &lt;/target&gt; &lt;/targets&gt; &lt;rules&gt; &lt;logger name=&#34;*&#34; minlevel=&#34;Trace&#34; writeTo=&#34;db&#34; /&gt; &lt;/rules&gt; &lt;/nlog&gt; 資料庫的Table Schema">
<meta itemprop="datePublished" content="2014-09-18T13:36:00+00:00" />
<meta itemprop="dateModified" content="2014-09-18T13:36:00+00:00" />
<meta itemprop="wordCount" content="133">



<meta itemprop="keywords" content="NLog," />

<link rel="canonical" href="http://example.org/posts/2014/09/nlog-database-target/" />

<link rel="icon" type="image/png" href="http://example.org/image/favicon.ico">

<link rel="stylesheet" href="/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/bulma.min.css">





<script src=/js/ramium.js></script>
<link rel="stylesheet" href=/css/ramium.css>






<script data-ad-client="ca-pub-5338947003335320" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>

<body><nav class="navbar is-dark" role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a class="navbar-item" href=/>
      
      <strong>My New Hugo Site </strong>
      
    </a>

    <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false"
      data-target="navbarBasicExample">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>

  <div id="navbarBasicExample" class="navbar-menu">
    <div class="navbar-start">
      
      
      <a class="navbar-item" href="/">Home</a>
      
      
      
      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link">This Blog</a>
        <div class="navbar-dropdown">
          
          <a class="navbar-item" href="/tags/">All Tags</a>
          
          <a class="navbar-item" href="/sections/">All Sections</a>
          
          <a class="navbar-item" href="/posts/">All Posts</a>
          
        </div>
      </div>
      
      
    </div>

    <div class="navbar-end">
      
      <a class="navbar-item navgithub" href="https://github.com/rafed/ramium/" target="_blank">
        <i class="fa fa-github fa-2x"></i>
      </a>
      

      
    </div>
  </div>
</nav><div class="columns is-centered">
        <div id="page-body" class="column is-7">

<div class="content blog">
    <h1>NLog Database Target</h1>

    <div id="infobar" class="level is-mobile">
        <div class="level-left">
            
            <div class="level-item">
                <p class="subtitle info date">Sep 18, 2014
                </p>
            </div>
            

            <div class="level-item">
                <p class="subtitle info">
                    1 min read
                </p>
            </div>
        </div>
        <div class="level-right is-hidden-touch">
            <div class="tags">
                
                <a class="tag is-dark is-rounded" href="/tags/nlog">NLog</a>
                
            </div>
        </div>
    </div>

    <div class="tags is-hidden-desktop">
        
        <a class="tag is-dark is-rounded" href="/tags/nlog">N log</a>
        
    </div>

    <div class="blog-text">
        

        <p>NLog要把Log存到資料庫的話，可以透過Database這個taget</p>
<div><pre class="brush:xml">&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;nlog xmlns="http://www.nlog-project.org/schemas/NLog.xsd"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" autoReload="true"&gt;
    &lt;targets&gt;
        &lt;target xsi:type="Database" name="db"
                connectionString="data source=(localdb)\v11.0;database=LogDB; trusted_connection=true;"
                commandText="INSERT INTO NLog_Error(ThreadId, MachineName, LogName, LogLevel, LogMessage, CallSite, Exception, Stacktrace) VALUES (@ThreadId, @MachineName, @LogName, @LogLevel, @LogMessage, @CallSite, @Exception, @Stacktrace);"&gt;
            &lt;parameter name="@ThreadId" layout="${threadid}"/&gt;
            &lt;parameter name="@MachineName" layout="${machinename}"/&gt;
            &lt;parameter name="@LogName" layout="${logger}"/&gt;
            &lt;parameter name="@LogLevel" layout="${level}"/&gt;
            &lt;parameter name="@LogMessage" layout="${message}"/&gt;
            &lt;parameter name="@CallSite" layout="${callsite:filename=true}"/&gt;
            &lt;parameter name="@Exception" layout="${exception}"/&gt;
            &lt;parameter name="@stacktrace" layout="${stacktrace}"/&gt;
        &lt;/target&gt;
    &lt;/targets&gt;
    &lt;rules&gt;
        &lt;logger name="*" minlevel="Trace" writeTo="db" /&gt;
    &lt;/rules&gt;
&lt;/nlog&gt;</pre></div>
<p>資料庫的Table Schema</p>
<div><pre class="brush:sql">USE LogDB
GO
<p>IF OBJECT_ID(&lsquo;NLog_Error&rsquo;) IS NOT NULL
DROP TABLE NLog_Error
GO</p>
<p>CREATE TABLE NLog_Error
(
LogId   INT    NOT NULL IDENTITY(1,1) PRIMARY KEY,
ThreadId  INT    NOT NULL,
MachineName  VARCHAR(255) NOT NULL,
LogName   VARCHAR(255) NOT NULL,
LogLevel  VARCHAR(5)  NOT NULL,
LogMessage  VARCHAR(MAX) NOT NULL,
CallSite  VARCHAR(1024) NOT NULL,
Exception  VARCHAR(1024) NOT NULL,
Stacktrace  VARCHAR(1024) NOT NULL,
CreateDateTime DATETIME NOT NULL DEFAULT(GETDATE())
)
GO</p>
<p></pre></div></p>

    </div>
</div><div id="social-media-share" class="has-text-centered">
	<p><i>Sharing is caring!</i></p>
	<br>
	
	<div class="share-buttons">
	    <a  href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fexample.org%2fposts%2f2014%2f09%2fnlog-database-target%2f"
	        onclick="socialMediaPopUp(this.href, '', 500, 500); return false;"
	        title="Share on Facebook. Opens in a new window.">
	        <img src=/img/icons/45px/facebook.png>
	    </a>

	    <a  href="https://twitter.com/intent/tweet?text=NLog%20Database%20Target&url=http%3a%2f%2fexample.org%2fposts%2f2014%2f09%2fnlog-database-target%2f"
	        onclick="socialMediaPopUp(this.href, '', 500, 500); return false;"
	        title="Share on Twitter. Opens in a new window." >
	        <img src=/img/icons/45px/twitter.png>
	    </a>

		<a  href="http://www.reddit.com/submit?url=http%3a%2f%2fexample.org%2fposts%2f2014%2f09%2fnlog-database-target%2f"
	        onclick="socialMediaPopUp(this.href, '', 900, 500); return false;"
	        title="Share on Reddit. Opens in a new window." >
	        <img src=/img/icons/45px/reddit.png>
	    </a>

	    <a  href="http://pinterest.com/pin/create/button/?url=http%3a%2f%2fexample.org%2fposts%2f2014%2f09%2fnlog-database-target%2f"
	        onclick="socialMediaPopUp(this.href, '', 900, 500); return false;"
	        title="Share on Pinterest. Opens in a new window." >
	        <img src=/img/icons/45px/pinterest.png>
	    </a>

	    <a  href="http://www.tumblr.com/share/link?url=http%3a%2f%2fexample.org%2fposts%2f2014%2f09%2fnlog-database-target%2f"
	        onclick="socialMediaPopUp(this.href, '', 900, 500); return false;"
	        title="Share on Tumblr. Opens in a new window." >
	        <img src=/img/icons/45px/tumblr.png>
	    </a>

		<a  href="https://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fexample.org%2fposts%2f2014%2f09%2fnlog-database-target%2f
			&title=NLog%20Database%20Target&summary=NLog%e8%a6%81%e6%8a%8aLog%e5%ad%98%e5%88%b0%e8%b3%87%e6%96%99%e5%ba%ab%e7%9a%84%e8%a9%b1%ef%bc%8c%e5%8f%af%e4%bb%a5%e9%80%8f%e9%81%8eDatabase%e9%80%99%e5%80%8btaget%0a%26lt%3b%3fxml%20version%3d%221.0%22%20encoding%3d%22utf-8%22%20%3f%26gt%3b%20%26lt%3bnlog%20xmlns%3d%22http%3a%2f%2fwww.nlog-project.org%2fschemas%2fNLog.xsd%22%20xmlns%3axsi%3d%22http%3a%2f%2fwww.w3.org%2f2001%2fXMLSchema-instance%22%20autoReload%3d%22true%22%26gt%3b%20%26lt%3btargets%26gt%3b%20%26lt%3btarget%20xsi%3atype%3d%22Database%22%20name%3d%22db%22%20connectionString%3d%22data%20source%3d%28localdb%29%5cv11.0%3bdatabase%3dLogDB%3b%20trusted_connection%3dtrue%3b%22%20commandText%3d%22INSERT%20INTO%20NLog_Error%28ThreadId%2c%20MachineName%2c%20LogName%2c%20LogLevel%2c%20LogMessage%2c%20CallSite%2c%20Exception%2c%20Stacktrace%29%20VALUES%20%28%40ThreadId%2c%20%40MachineName%2c%20%40LogName%2c%20%40LogLevel%2c%20%40LogMessage%2c%20%40CallSite%2c%20%40Exception%2c%20%40Stacktrace%29%3b%22%26gt%3b%20%26lt%3bparameter%20name%3d%22%40ThreadId%22%20layout%3d%22%24%7bthreadid%7d%22%2f%26gt%3b%20%26lt%3bparameter%20name%3d%22%40MachineName%22%20layout%3d%22%24%7bmachinename%7d%22%2f%26gt%3b%20%26lt%3bparameter%20name%3d%22%40LogName%22%20layout%3d%22%24%7blogger%7d%22%2f%26gt%3b%20%26lt%3bparameter%20name%3d%22%40LogLevel%22%20layout%3d%22%24%7blevel%7d%22%2f%26gt%3b%20%26lt%3bparameter%20name%3d%22%40LogMessage%22%20layout%3d%22%24%7bmessage%7d%22%2f%26gt%3b%20%26lt%3bparameter%20name%3d%22%40CallSite%22%20layout%3d%22%24%7bcallsite%3afilename%3dtrue%7d%22%2f%26gt%3b%20%26lt%3bparameter%20name%3d%22%40Exception%22%20layout%3d%22%24%7bexception%7d%22%2f%26gt%3b%20%26lt%3bparameter%20name%3d%22%40stacktrace%22%20layout%3d%22%24%7bstacktrace%7d%22%2f%26gt%3b%20%26lt%3b%2ftarget%26gt%3b%20%26lt%3b%2ftargets%26gt%3b%20%26lt%3brules%26gt%3b%20%26lt%3blogger%20name%3d%22%2a%22%20minlevel%3d%22Trace%22%20writeTo%3d%22db%22%20%2f%26gt%3b%20%26lt%3b%2frules%26gt%3b%20%26lt%3b%2fnlog%26gt%3b%20%e8%b3%87%e6%96%99%e5%ba%ab%e7%9a%84Table%20Schema&source=rafed123.github.io"
	        onclick="socialMediaPopUp(this.href, '', 900, 500); return false;"
	        title="Share on LinkedIn. Opens in a new window." >
	        <img src=/img/icons/45px/linkedin.png>
	    </a>

	    <a  href="mailto:?subject=NLog%20Database%20Target&amp;body=Check out this site http%3a%2f%2fexample.org%2fposts%2f2014%2f09%2fnlog-database-target%2f"
	        title="Share via Email. Opens in a new window." >
	        <img src=/img/icons/45px/mail.png>
	    </a>
	</div>
</div>


<br>
<div id="disqus_thread"></div>
<script type="text/javascript">
    (function () {
        
        
        if (window.location.hostname == "localhost")
            return;

        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        var disqus_shortname = '';
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


        </div>
    </div>

<footer class="footer has-background-dark">
    <div class="content has-text-centered has-text-white">
        <p>
            © 2020 Ramium. Powered by
            <a class="has-text-light" href="https://github.com/gohugoio/hugo" target="_blank">
            Hugo</a>. Theme
            <a class="has-text-light" href="https://github.com/rafed123/ramium/" target="_blank">
                Ramium.
            </a>
        </p>
    </div>
</footer>
</body>

</html>