<!DOCTYPE html>
<html lang="en-us">

<head><title>
    Dbup - 資料庫更新工具 | 
    
    My New Hugo Site</title>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<meta name="description" content="dbup是一個用來更新資料庫的工庫，只能往前更新，不能往後回復更新 dbup-consolescripts是用來新增一個年月日時分秒_檔名.sql的套件
新增一個Console專案
[![](https://4.bp.blogspot.com/-mogF88yuPbM/VzwauDgNoCI/AAAAAAAADxs/xQeX1VxpOh0gCJj1SDOHjbU38SjXthHQgCLcB/s1600/01.png)](https://4.bp.blogspot.com/-mogF88yuPbM/VzwauDgNoCI/AAAAAAAADxs/xQeX1VxpOh0gCJj1SDOHjbU38SjXthHQgCLcB/s1600/01.png) 透過NuGet新增dbup和db-consolescripts套件 $ install-package dbup $ install-package dbup-consolescripts [![](https://2.bp.blogspot.com/-oV1LzJLW774/VzwauAIASRI/AAAAAAAADxk/0ahWoAwgPMcxgb21clM47CU7mhOZPhhRQCLcB/s1600/02.png)](https://2.bp.blogspot.com/-oV1LzJLW774/VzwauAIASRI/AAAAAAAADxk/0ahWoAwgPMcxgb21clM47CU7mhOZPhhRQCLcB/s1600/02.png) 加入System.Configuration參考 [![](https://2.bp.blogspot.com/-2MXHs6-ULcU/VzwauNNva1I/AAAAAAAADxo/4u4Kh9JLsn09nbXM-nbdqo5Oa00XHRCAQCLcB/s1600/03.png)](https://2.bp.blogspot.com/-2MXHs6-ULcU/VzwauNNva1I/AAAAAAAADxo/4u4Kh9JLsn09nbXM-nbdqo5Oa00XHRCAQCLcB/s1600/03.png) 新增連線字串 &amp;lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34; ?&amp;gt; &amp;lt;configuration&amp;gt; &amp;nbsp; &amp;nbsp; &amp;lt;connectionStrings&amp;gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;add name=&#34;DBConn&#34; providerName=&#34;System.Data.SqlClient&#34; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;connectionString=&#34;data source=(localdb)\ATCity;initial catalog=RankingSystem;trusted_connection=true;&#34;/&amp;gt; &amp;nbsp; &amp;nbsp; &amp;lt;/connectionStrings&amp;gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;startup&amp;gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;supportedRuntime version=&#34;v4.0&#34; sku=&#34;.NETFramework,Version=v4.5&#34; /&amp;gt; &amp;nbsp; &amp;nbsp; &amp;lt;/startup&amp;gt; &amp;lt;/configuration&amp;gt; 修改Program.cs namespace SGT.ATCity.RankingSystem.Database { &amp;nbsp; &amp;nbsp; using System; &amp;nbsp; &amp;nbsp; using System.
    ">


<meta property="og:title" content="dbup - 資料庫更新工具" />
<meta property="og:description" content="dbup是一個用來更新資料庫的工庫，只能往前更新，不能往後回復更新 dbup-consolescripts是用來新增一個年月日時分秒_檔名.sql的套件
新增一個Console專案
[![](https://4.bp.blogspot.com/-mogF88yuPbM/VzwauDgNoCI/AAAAAAAADxs/xQeX1VxpOh0gCJj1SDOHjbU38SjXthHQgCLcB/s1600/01.png)](https://4.bp.blogspot.com/-mogF88yuPbM/VzwauDgNoCI/AAAAAAAADxs/xQeX1VxpOh0gCJj1SDOHjbU38SjXthHQgCLcB/s1600/01.png) 透過NuGet新增dbup和db-consolescripts套件 $ install-package dbup $ install-package dbup-consolescripts [![](https://2.bp.blogspot.com/-oV1LzJLW774/VzwauAIASRI/AAAAAAAADxk/0ahWoAwgPMcxgb21clM47CU7mhOZPhhRQCLcB/s1600/02.png)](https://2.bp.blogspot.com/-oV1LzJLW774/VzwauAIASRI/AAAAAAAADxk/0ahWoAwgPMcxgb21clM47CU7mhOZPhhRQCLcB/s1600/02.png) 加入System.Configuration參考 [![](https://2.bp.blogspot.com/-2MXHs6-ULcU/VzwauNNva1I/AAAAAAAADxo/4u4Kh9JLsn09nbXM-nbdqo5Oa00XHRCAQCLcB/s1600/03.png)](https://2.bp.blogspot.com/-2MXHs6-ULcU/VzwauNNva1I/AAAAAAAADxo/4u4Kh9JLsn09nbXM-nbdqo5Oa00XHRCAQCLcB/s1600/03.png) 新增連線字串 &amp;lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34; ?&amp;gt; &amp;lt;configuration&amp;gt; &amp;nbsp; &amp;nbsp; &amp;lt;connectionStrings&amp;gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;add name=&#34;DBConn&#34; providerName=&#34;System.Data.SqlClient&#34; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;connectionString=&#34;data source=(localdb)\ATCity;initial catalog=RankingSystem;trusted_connection=true;&#34;/&amp;gt; &amp;nbsp; &amp;nbsp; &amp;lt;/connectionStrings&amp;gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;startup&amp;gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;supportedRuntime version=&#34;v4.0&#34; sku=&#34;.NETFramework,Version=v4.5&#34; /&amp;gt; &amp;nbsp; &amp;nbsp; &amp;lt;/startup&amp;gt; &amp;lt;/configuration&amp;gt; 修改Program.cs namespace SGT.ATCity.RankingSystem.Database { &amp;nbsp; &amp;nbsp; using System; &amp;nbsp; &amp;nbsp; using System." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://example.org/posts/2016/05/dbup-%E8%B3%87%E6%96%99%E5%BA%AB%E6%9B%B4%E6%96%B0%E5%B7%A5%E5%85%B7/" />
<meta property="article:published_time" content="2016-05-18T15:34:00+00:00" />
<meta property="article:modified_time" content="2016-05-18T15:34:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="dbup - 資料庫更新工具"/>
<meta name="twitter:description" content="dbup是一個用來更新資料庫的工庫，只能往前更新，不能往後回復更新 dbup-consolescripts是用來新增一個年月日時分秒_檔名.sql的套件
新增一個Console專案
[![](https://4.bp.blogspot.com/-mogF88yuPbM/VzwauDgNoCI/AAAAAAAADxs/xQeX1VxpOh0gCJj1SDOHjbU38SjXthHQgCLcB/s1600/01.png)](https://4.bp.blogspot.com/-mogF88yuPbM/VzwauDgNoCI/AAAAAAAADxs/xQeX1VxpOh0gCJj1SDOHjbU38SjXthHQgCLcB/s1600/01.png) 透過NuGet新增dbup和db-consolescripts套件 $ install-package dbup $ install-package dbup-consolescripts [![](https://2.bp.blogspot.com/-oV1LzJLW774/VzwauAIASRI/AAAAAAAADxk/0ahWoAwgPMcxgb21clM47CU7mhOZPhhRQCLcB/s1600/02.png)](https://2.bp.blogspot.com/-oV1LzJLW774/VzwauAIASRI/AAAAAAAADxk/0ahWoAwgPMcxgb21clM47CU7mhOZPhhRQCLcB/s1600/02.png) 加入System.Configuration參考 [![](https://2.bp.blogspot.com/-2MXHs6-ULcU/VzwauNNva1I/AAAAAAAADxo/4u4Kh9JLsn09nbXM-nbdqo5Oa00XHRCAQCLcB/s1600/03.png)](https://2.bp.blogspot.com/-2MXHs6-ULcU/VzwauNNva1I/AAAAAAAADxo/4u4Kh9JLsn09nbXM-nbdqo5Oa00XHRCAQCLcB/s1600/03.png) 新增連線字串 &amp;lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34; ?&amp;gt; &amp;lt;configuration&amp;gt; &amp;nbsp; &amp;nbsp; &amp;lt;connectionStrings&amp;gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;add name=&#34;DBConn&#34; providerName=&#34;System.Data.SqlClient&#34; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;connectionString=&#34;data source=(localdb)\ATCity;initial catalog=RankingSystem;trusted_connection=true;&#34;/&amp;gt; &amp;nbsp; &amp;nbsp; &amp;lt;/connectionStrings&amp;gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;startup&amp;gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;supportedRuntime version=&#34;v4.0&#34; sku=&#34;.NETFramework,Version=v4.5&#34; /&amp;gt; &amp;nbsp; &amp;nbsp; &amp;lt;/startup&amp;gt; &amp;lt;/configuration&amp;gt; 修改Program.cs namespace SGT.ATCity.RankingSystem.Database { &amp;nbsp; &amp;nbsp; using System; &amp;nbsp; &amp;nbsp; using System."/>

<meta itemprop="name" content="dbup - 資料庫更新工具">
<meta itemprop="description" content="dbup是一個用來更新資料庫的工庫，只能往前更新，不能往後回復更新 dbup-consolescripts是用來新增一個年月日時分秒_檔名.sql的套件
新增一個Console專案
[![](https://4.bp.blogspot.com/-mogF88yuPbM/VzwauDgNoCI/AAAAAAAADxs/xQeX1VxpOh0gCJj1SDOHjbU38SjXthHQgCLcB/s1600/01.png)](https://4.bp.blogspot.com/-mogF88yuPbM/VzwauDgNoCI/AAAAAAAADxs/xQeX1VxpOh0gCJj1SDOHjbU38SjXthHQgCLcB/s1600/01.png) 透過NuGet新增dbup和db-consolescripts套件 $ install-package dbup $ install-package dbup-consolescripts [![](https://2.bp.blogspot.com/-oV1LzJLW774/VzwauAIASRI/AAAAAAAADxk/0ahWoAwgPMcxgb21clM47CU7mhOZPhhRQCLcB/s1600/02.png)](https://2.bp.blogspot.com/-oV1LzJLW774/VzwauAIASRI/AAAAAAAADxk/0ahWoAwgPMcxgb21clM47CU7mhOZPhhRQCLcB/s1600/02.png) 加入System.Configuration參考 [![](https://2.bp.blogspot.com/-2MXHs6-ULcU/VzwauNNva1I/AAAAAAAADxo/4u4Kh9JLsn09nbXM-nbdqo5Oa00XHRCAQCLcB/s1600/03.png)](https://2.bp.blogspot.com/-2MXHs6-ULcU/VzwauNNva1I/AAAAAAAADxo/4u4Kh9JLsn09nbXM-nbdqo5Oa00XHRCAQCLcB/s1600/03.png) 新增連線字串 &amp;lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34; ?&amp;gt; &amp;lt;configuration&amp;gt; &amp;nbsp; &amp;nbsp; &amp;lt;connectionStrings&amp;gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;add name=&#34;DBConn&#34; providerName=&#34;System.Data.SqlClient&#34; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;connectionString=&#34;data source=(localdb)\ATCity;initial catalog=RankingSystem;trusted_connection=true;&#34;/&amp;gt; &amp;nbsp; &amp;nbsp; &amp;lt;/connectionStrings&amp;gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;startup&amp;gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;supportedRuntime version=&#34;v4.0&#34; sku=&#34;.NETFramework,Version=v4.5&#34; /&amp;gt; &amp;nbsp; &amp;nbsp; &amp;lt;/startup&amp;gt; &amp;lt;/configuration&amp;gt; 修改Program.cs namespace SGT.ATCity.RankingSystem.Database { &amp;nbsp; &amp;nbsp; using System; &amp;nbsp; &amp;nbsp; using System.">
<meta itemprop="datePublished" content="2016-05-18T15:34:00+00:00" />
<meta itemprop="dateModified" content="2016-05-18T15:34:00+00:00" />
<meta itemprop="wordCount" content="298">



<meta itemprop="keywords" content="" />

<link rel="canonical" href="http://example.org/posts/2016/05/dbup-%E8%B3%87%E6%96%99%E5%BA%AB%E6%9B%B4%E6%96%B0%E5%B7%A5%E5%85%B7/" />

<link rel="icon" type="image/png" href="http://example.org/image/favicon.ico">

<link rel="stylesheet" href="/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/bulma.min.css">





<script src=/js/ramium.js></script>
<link rel="stylesheet" href=/css/ramium.css>






<script data-ad-client="ca-pub-5338947003335320" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>

<body><nav class="navbar is-dark" role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a class="navbar-item" href=/>
      
      <strong>My New Hugo Site </strong>
      
    </a>

    <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false"
      data-target="navbarBasicExample">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>

  <div id="navbarBasicExample" class="navbar-menu">
    <div class="navbar-start">
      
      
      <a class="navbar-item" href="/">Home</a>
      
      
      
      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link">This Blog</a>
        <div class="navbar-dropdown">
          
          <a class="navbar-item" href="/tags/">All Tags</a>
          
          <a class="navbar-item" href="/sections/">All Sections</a>
          
          <a class="navbar-item" href="/posts/">All Posts</a>
          
        </div>
      </div>
      
      
    </div>

    <div class="navbar-end">
      
      <a class="navbar-item navgithub" href="https://github.com/rafed/ramium/" target="_blank">
        <i class="fa fa-github fa-2x"></i>
      </a>
      

      
    </div>
  </div>
</nav><div class="columns is-centered">
        <div id="page-body" class="column is-7">

<div class="content blog">
    <h1>Dbup - 資料庫更新工具</h1>

    <div id="infobar" class="level is-mobile">
        <div class="level-left">
            
            <div class="level-item">
                <p class="subtitle info date">May 18, 2016
                </p>
            </div>
            

            <div class="level-item">
                <p class="subtitle info">
                    3 mins read
                </p>
            </div>
        </div>
        <div class="level-right is-hidden-touch">
            <div class="tags">
                
            </div>
        </div>
    </div>

    <div class="tags is-hidden-desktop">
        
    </div>

    <div class="blog-text">
        

        <p>dbup是一個用來更新資料庫的工庫，只能往前更新，不能往後回復更新
dbup-consolescripts是用來新增一個年月日時分秒_檔名.sql的套件</p>
<p>新增一個Console專案</p>
<div class="separator" style="clear: both; text-align: center;">[![](https://4.bp.blogspot.com/-mogF88yuPbM/VzwauDgNoCI/AAAAAAAADxs/xQeX1VxpOh0gCJj1SDOHjbU38SjXthHQgCLcB/s1600/01.png)](https://4.bp.blogspot.com/-mogF88yuPbM/VzwauDgNoCI/AAAAAAAADxs/xQeX1VxpOh0gCJj1SDOHjbU38SjXthHQgCLcB/s1600/01.png)</div>
<h2 id="透過nuget新增dbup和db-consolescripts套件">透過NuGet新增dbup和db-consolescripts套件</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ install-package dbup
$ install-package dbup-consolescripts
</code></pre></div><div class="separator" style="clear: both; text-align: center;">[![](https://2.bp.blogspot.com/-oV1LzJLW774/VzwauAIASRI/AAAAAAAADxk/0ahWoAwgPMcxgb21clM47CU7mhOZPhhRQCLcB/s1600/02.png)](https://2.bp.blogspot.com/-oV1LzJLW774/VzwauAIASRI/AAAAAAAADxk/0ahWoAwgPMcxgb21clM47CU7mhOZPhhRQCLcB/s1600/02.png)</div>
<h1 id="加入systemconfiguration參考">加入System.Configuration參考</h1>
<div class="separator" style="clear: both; text-align: center;">[![](https://2.bp.blogspot.com/-2MXHs6-ULcU/VzwauNNva1I/AAAAAAAADxo/4u4Kh9JLsn09nbXM-nbdqo5Oa00XHRCAQCLcB/s1600/03.png)](https://2.bp.blogspot.com/-2MXHs6-ULcU/VzwauNNva1I/AAAAAAAADxo/4u4Kh9JLsn09nbXM-nbdqo5Oa00XHRCAQCLcB/s1600/03.png)</div>
<h2 id="新增連線字串">新增連線字串</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml">&amp;lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34; ?&amp;gt;
&amp;lt;configuration&amp;gt;

&amp;nbsp; &amp;nbsp; &amp;lt;connectionStrings&amp;gt;
&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;add name=&#34;DBConn&#34; providerName=&#34;System.Data.SqlClient&#34;
&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;connectionString=&#34;data source=(localdb)\ATCity;initial catalog=RankingSystem;trusted_connection=true;&#34;/&amp;gt;
&amp;nbsp; &amp;nbsp; &amp;lt;/connectionStrings&amp;gt;
&amp;nbsp; &amp;nbsp;
&amp;nbsp; &amp;nbsp; &amp;lt;startup&amp;gt;
&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;supportedRuntime version=&#34;v4.0&#34; sku=&#34;.NETFramework,Version=v4.5&#34; /&amp;gt;
&amp;nbsp; &amp;nbsp; &amp;lt;/startup&amp;gt;
&amp;lt;/configuration&amp;gt;
</code></pre></div><h2 id="修改programcs">修改Program.cs</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cs" data-lang="cs"><span style="color:#66d9ef">namespace</span> SGT.ATCity.RankingSystem.Database
{
&amp;nbsp; &amp;nbsp; <span style="color:#66d9ef">using</span> System;
&amp;nbsp; &amp;nbsp; <span style="color:#66d9ef">using</span> System.Configuration;
&amp;nbsp; &amp;nbsp; <span style="color:#66d9ef">using</span> System.Reflection;
&amp;nbsp; &amp;nbsp; <span style="color:#66d9ef">using</span> DbUp;

&amp;nbsp; &amp;nbsp; <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Program</span>
&amp;nbsp; &amp;nbsp; {
&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> Main(<span style="color:#66d9ef">string</span>[] args)
&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {
&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; <span style="color:#66d9ef">var</span> connectionString = ConfigurationManager.ConnectionStrings[<span style="color:#e6db74">&#34;DBConn&#34;</span>].ConnectionString;
&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; <span style="color:#66d9ef">var</span> upgrader =
&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; DeployChanges.To
&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .SqlDatabase(connectionString)
&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .WithScriptsEmbeddedInAssembly(Assembly.GetExecutingAssembly())
&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .LogToConsole()
&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .Build();

&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; <span style="color:#66d9ef">var</span> result = upgrader.PerformUpgrade();

&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; <span style="color:#66d9ef">if</span> (!result.Successful)
&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {
&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Console.ForegroundColor = ConsoleColor.Red;
&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Console.WriteLine(result.Error);
&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Console.ResetColor();
&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; <span style="color:#66d9ef">return</span> -<span style="color:#ae81ff">1</span>;
&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }

&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Console.ForegroundColor = ConsoleColor.Green;
&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Console.WriteLine(<span style="color:#e6db74">&#34;Success!&#34;</span>);
&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Console.ResetColor();
&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }
&amp;nbsp; &amp;nbsp; }
}
</code></pre></div><h2 id="新增sql檔案">新增SQL檔案</h2>
<ul>
<li>透過套件管理器主控台執行New-Migration 名稱, 即可新增一個年月日時分秒_名稱的sql檔案</li>
<li>檔案的順序很重要, 會影響呼叫的執行順序</li>
<li>編輯要更新資料庫的SQL語法</li>
</ul>
<div class="separator" style="clear: both; text-align: center;">[![](https://1.bp.blogspot.com/-z6hmfsyfRSg/VzwauckPVTI/AAAAAAAADxw/aOHvq5xrR9AEdB4RcY8XcN6SHcTCuadnACLcB/s1600/04.png)](https://1.bp.blogspot.com/-z6hmfsyfRSg/VzwauckPVTI/AAAAAAAADxw/aOHvq5xrR9AEdB4RcY8XcN6SHcTCuadnACLcB/s1600/04.png)</div>
<h1 id="按下f5執行資料庫更新">按下F5執行資料庫更新</h1>
<div class="separator" style="clear: both; text-align: center;">[![](https://1.bp.blogspot.com/-BC3wQlzmEZc/VzwaujPeeMI/AAAAAAAADx0/TZB4dww4HqMoWwNyFg6kjPfUjlvC6N_OwCLcB/s1600/05.png)](https://1.bp.blogspot.com/-BC3wQlzmEZc/VzwaujPeeMI/AAAAAAAADx0/TZB4dww4HqMoWwNyFg6kjPfUjlvC6N_OwCLcB/s1600/05.png)</div>
<h1 id="資料庫更新結果">資料庫更新結果</h1>
<ul>
<li>新增一個SchemaVersions資料表來記錄更新的記錄</li>
<li>相同檔名只會執行一次</li>
</ul>
<div class="separator" style="clear: both; text-align: center;">[![](https://3.bp.blogspot.com/-6as9yxMcY7g/VzwauoTO58I/AAAAAAAADx4/QFz_LWjEFtsPFKmHKcr8nhJ0CFxMWgFdgCLcB/s1600/06.png)](https://3.bp.blogspot.com/-6as9yxMcY7g/VzwauoTO58I/AAAAAAAADx4/QFz_LWjEFtsPFKmHKcr8nhJ0CFxMWgFdgCLcB/s1600/06.png)</div>
    </div>
</div><div id="social-media-share" class="has-text-centered">
	<p><i>Sharing is caring!</i></p>
	<br>
	
	<div class="share-buttons">
	    <a  href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fexample.org%2fposts%2f2016%2f05%2fdbup-%25E8%25B3%2587%25E6%2596%2599%25E5%25BA%25AB%25E6%259B%25B4%25E6%2596%25B0%25E5%25B7%25A5%25E5%2585%25B7%2f"
	        onclick="socialMediaPopUp(this.href, '', 500, 500); return false;"
	        title="Share on Facebook. Opens in a new window.">
	        <img src=/img/icons/45px/facebook.png>
	    </a>

	    <a  href="https://twitter.com/intent/tweet?text=dbup%20-%20%e8%b3%87%e6%96%99%e5%ba%ab%e6%9b%b4%e6%96%b0%e5%b7%a5%e5%85%b7&url=http%3a%2f%2fexample.org%2fposts%2f2016%2f05%2fdbup-%25E8%25B3%2587%25E6%2596%2599%25E5%25BA%25AB%25E6%259B%25B4%25E6%2596%25B0%25E5%25B7%25A5%25E5%2585%25B7%2f"
	        onclick="socialMediaPopUp(this.href, '', 500, 500); return false;"
	        title="Share on Twitter. Opens in a new window." >
	        <img src=/img/icons/45px/twitter.png>
	    </a>

		<a  href="http://www.reddit.com/submit?url=http%3a%2f%2fexample.org%2fposts%2f2016%2f05%2fdbup-%25E8%25B3%2587%25E6%2596%2599%25E5%25BA%25AB%25E6%259B%25B4%25E6%2596%25B0%25E5%25B7%25A5%25E5%2585%25B7%2f"
	        onclick="socialMediaPopUp(this.href, '', 900, 500); return false;"
	        title="Share on Reddit. Opens in a new window." >
	        <img src=/img/icons/45px/reddit.png>
	    </a>

	    <a  href="http://pinterest.com/pin/create/button/?url=http%3a%2f%2fexample.org%2fposts%2f2016%2f05%2fdbup-%25E8%25B3%2587%25E6%2596%2599%25E5%25BA%25AB%25E6%259B%25B4%25E6%2596%25B0%25E5%25B7%25A5%25E5%2585%25B7%2f"
	        onclick="socialMediaPopUp(this.href, '', 900, 500); return false;"
	        title="Share on Pinterest. Opens in a new window." >
	        <img src=/img/icons/45px/pinterest.png>
	    </a>

	    <a  href="http://www.tumblr.com/share/link?url=http%3a%2f%2fexample.org%2fposts%2f2016%2f05%2fdbup-%25E8%25B3%2587%25E6%2596%2599%25E5%25BA%25AB%25E6%259B%25B4%25E6%2596%25B0%25E5%25B7%25A5%25E5%2585%25B7%2f"
	        onclick="socialMediaPopUp(this.href, '', 900, 500); return false;"
	        title="Share on Tumblr. Opens in a new window." >
	        <img src=/img/icons/45px/tumblr.png>
	    </a>

		<a  href="https://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fexample.org%2fposts%2f2016%2f05%2fdbup-%25E8%25B3%2587%25E6%2596%2599%25E5%25BA%25AB%25E6%259B%25B4%25E6%2596%25B0%25E5%25B7%25A5%25E5%2585%25B7%2f
			&title=dbup%20-%20%e8%b3%87%e6%96%99%e5%ba%ab%e6%9b%b4%e6%96%b0%e5%b7%a5%e5%85%b7&summary=dbup%e6%98%af%e4%b8%80%e5%80%8b%e7%94%a8%e4%be%86%e6%9b%b4%e6%96%b0%e8%b3%87%e6%96%99%e5%ba%ab%e7%9a%84%e5%b7%a5%e5%ba%ab%ef%bc%8c%e5%8f%aa%e8%83%bd%e5%be%80%e5%89%8d%e6%9b%b4%e6%96%b0%ef%bc%8c%e4%b8%8d%e8%83%bd%e5%be%80%e5%be%8c%e5%9b%9e%e5%be%a9%e6%9b%b4%e6%96%b0%20dbup-consolescripts%e6%98%af%e7%94%a8%e4%be%86%e6%96%b0%e5%a2%9e%e4%b8%80%e5%80%8b%e5%b9%b4%e6%9c%88%e6%97%a5%e6%99%82%e5%88%86%e7%a7%92_%e6%aa%94%e5%90%8d.sql%e7%9a%84%e5%a5%97%e4%bb%b6%0a%e6%96%b0%e5%a2%9e%e4%b8%80%e5%80%8bConsole%e5%b0%88%e6%a1%88%0a%5b%21%5b%5d%28https%3a%2f%2f4.bp.blogspot.com%2f-mogF88yuPbM%2fVzwauDgNoCI%2fAAAAAAAADxs%2fxQeX1VxpOh0gCJj1SDOHjbU38SjXthHQgCLcB%2fs1600%2f01.png%29%5d%28https%3a%2f%2f4.bp.blogspot.com%2f-mogF88yuPbM%2fVzwauDgNoCI%2fAAAAAAAADxs%2fxQeX1VxpOh0gCJj1SDOHjbU38SjXthHQgCLcB%2fs1600%2f01.png%29%20%e9%80%8f%e9%81%8eNuGet%e6%96%b0%e5%a2%9edbup%e5%92%8cdb-consolescripts%e5%a5%97%e4%bb%b6%20%24%20install-package%20dbup%20%24%20install-package%20dbup-consolescripts%20%5b%21%5b%5d%28https%3a%2f%2f2.bp.blogspot.com%2f-oV1LzJLW774%2fVzwauAIASRI%2fAAAAAAAADxk%2f0ahWoAwgPMcxgb21clM47CU7mhOZPhhRQCLcB%2fs1600%2f02.png%29%5d%28https%3a%2f%2f2.bp.blogspot.com%2f-oV1LzJLW774%2fVzwauAIASRI%2fAAAAAAAADxk%2f0ahWoAwgPMcxgb21clM47CU7mhOZPhhRQCLcB%2fs1600%2f02.png%29%20%e5%8a%a0%e5%85%a5System.Configuration%e5%8f%83%e8%80%83%20%5b%21%5b%5d%28https%3a%2f%2f2.bp.blogspot.com%2f-2MXHs6-ULcU%2fVzwauNNva1I%2fAAAAAAAADxo%2f4u4Kh9JLsn09nbXM-nbdqo5Oa00XHRCAQCLcB%2fs1600%2f03.png%29%5d%28https%3a%2f%2f2.bp.blogspot.com%2f-2MXHs6-ULcU%2fVzwauNNva1I%2fAAAAAAAADxo%2f4u4Kh9JLsn09nbXM-nbdqo5Oa00XHRCAQCLcB%2fs1600%2f03.png%29%20%e6%96%b0%e5%a2%9e%e9%80%a3%e7%b7%9a%e5%ad%97%e4%b8%b2%20%26amp%3blt%3b%3fxml%20version%3d%26%2334%3b1.0%26%2334%3b%20encoding%3d%26%2334%3butf-8%26%2334%3b%20%3f%26amp%3bgt%3b%20%26amp%3blt%3bconfiguration%26amp%3bgt%3b%20%26amp%3bnbsp%3b%20%26amp%3bnbsp%3b%20%26amp%3blt%3bconnectionStrings%26amp%3bgt%3b%20%26amp%3bnbsp%3b%20%26amp%3bnbsp%3b%20%26amp%3bnbsp%3b%20%26amp%3bnbsp%3b%20%26amp%3blt%3badd%20name%3d%26%2334%3bDBConn%26%2334%3b%20providerName%3d%26%2334%3bSystem.Data.SqlClient%26%2334%3b%20%26amp%3bnbsp%3b%20%26amp%3bnbsp%3b%20%26amp%3bnbsp%3b%20%26amp%3bnbsp%3b%20%26amp%3bnbsp%3b%20%26amp%3bnbsp%3b%20%26amp%3bnbsp%3bconnectionString%3d%26%2334%3bdata%20source%3d%28localdb%29%5cATCity%3binitial%20catalog%3dRankingSystem%3btrusted_connection%3dtrue%3b%26%2334%3b%2f%26amp%3bgt%3b%20%26amp%3bnbsp%3b%20%26amp%3bnbsp%3b%20%26amp%3blt%3b%2fconnectionStrings%26amp%3bgt%3b%20%26amp%3bnbsp%3b%20%26amp%3bnbsp%3b%20%26amp%3bnbsp%3b%20%26amp%3bnbsp%3b%20%26amp%3blt%3bstartup%26amp%3bgt%3b%20%26amp%3bnbsp%3b%20%26amp%3bnbsp%3b%20%26amp%3bnbsp%3b%20%26amp%3bnbsp%3b%20%26amp%3blt%3bsupportedRuntime%20version%3d%26%2334%3bv4.0%26%2334%3b%20sku%3d%26%2334%3b.NETFramework%2cVersion%3dv4.5%26%2334%3b%20%2f%26amp%3bgt%3b%20%26amp%3bnbsp%3b%20%26amp%3bnbsp%3b%20%26amp%3blt%3b%2fstartup%26amp%3bgt%3b%20%26amp%3blt%3b%2fconfiguration%26amp%3bgt%3b%20%e4%bf%ae%e6%94%b9Program.cs%20namespace%20SGT.ATCity.RankingSystem.Database%20%7b%20%26amp%3bnbsp%3b%20%26amp%3bnbsp%3b%20using%20System%3b%20%26amp%3bnbsp%3b%20%26amp%3bnbsp%3b%20using%20System.&source=rafed123.github.io"
	        onclick="socialMediaPopUp(this.href, '', 900, 500); return false;"
	        title="Share on LinkedIn. Opens in a new window." >
	        <img src=/img/icons/45px/linkedin.png>
	    </a>

	    <a  href="mailto:?subject=dbup%20-%20%e8%b3%87%e6%96%99%e5%ba%ab%e6%9b%b4%e6%96%b0%e5%b7%a5%e5%85%b7&amp;body=Check out this site http%3a%2f%2fexample.org%2fposts%2f2016%2f05%2fdbup-%25E8%25B3%2587%25E6%2596%2599%25E5%25BA%25AB%25E6%259B%25B4%25E6%2596%25B0%25E5%25B7%25A5%25E5%2585%25B7%2f"
	        title="Share via Email. Opens in a new window." >
	        <img src=/img/icons/45px/mail.png>
	    </a>
	</div>
</div>


<br>
<div id="disqus_thread"></div>
<script type="text/javascript">
    (function () {
        
        
        if (window.location.hostname == "localhost")
            return;

        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        var disqus_shortname = '';
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


        </div>
    </div>

<footer class="footer has-background-dark">
    <div class="content has-text-centered has-text-white">
        <p>
            © 2020 Ramium. Powered by
            <a class="has-text-light" href="https://github.com/gohugoio/hugo" target="_blank">
            Hugo</a>. Theme
            <a class="has-text-light" href="https://github.com/rafed123/ramium/" target="_blank">
                Ramium.
            </a>
        </p>
    </div>
</footer>
</body>

</html>